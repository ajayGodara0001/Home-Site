<% layout('boilerplate') -%>
<style>
.filters{
    margin-left: 2rem;
    margin-top: 1rem;
    margin-bottom: 1rem;
    display: flex;
    gap: 2rem;
    align-items: center;
}
.filter{
    text-align: center;
    opacity: 0.6;
    font-size: 0.9rem;
}
.filter:hover{
   cursor: pointer;
    opacity: 1;
}
.taxInfo{
    display: none;
}

.tax-toggle{
    border: 1px solid black;
    border-radius: 1rem;
    height: 2.5rem;
    padding: 0.5rem;
    margin-left: 10rem;
   display: flex;
   align-items: center;
   padding-left: 1rem;
   padding-right: 1rem;
   margin-bottom: 1rem;
}
</style>
<body>

<div class="filters">
    <div class="filter">
        <div>  <i class="fa-solid fa-fire"> </i>     </div>
        <p>Trending</p>
    </div>
    <div class="filter">
        <div>   <i class="fa-solid fa-bed"></i>     </div>
        <p>Rooms</p>
    </div>
    <div class="filter">
        <div>   <i class="fa-solid fa-city"></i>     </div>
        <p>Iconic Cites</p>
    </div>
    <div class="filter">
        <div>  <i class="fa-solid fa-mountain-sun"></i>   </div>
        <p>Mountains</p>
    </div>
    <div class="filter">
        <div>  <i class="fa-solid fa-person-swimming"></i>    </div>
        <p>Amazing pools</p>
    </div>
    <div class="filter">
        <div>  <i class="fa-solid fa-tractor"></i>     </div>
        <p>Farms</p>
    </div>
    <div class="filter">
        <div>   <i class="fa-solid fa-igloo"></i>     </div>
        <p>Arctic</p>
    </div>
    <div class="filter">
        <div>  <i class="fa-solid fa-person-hiking"></i>    </div>
        <p>Camping</p>
    </div>

    <div class="tax-toggle">
        <div class="form-check-reverse form-switch">
            <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
            <label class="form-check-label" for="flexSwitchCheckDefault"> Display total after taxes</label>
          </div>
    </div>
</div>
    <div class="row">
        <% for(let listing of allListings ) { %>
          
            <div class="card " style="width: 20rem ;">
                <a href="/listings/<%=listing._id %>">
                    <img src="<%= listing.image.url %>" class="card-img-top" alt="Image of site" style=" height: 20rem;">
                </a>
                <div class="card-body">
                <p class="card-text">
                   <h5> <%= listing.title %> </h5> 
                &#8377; <%= listing.price.toLocaleString("en-IN")  %>/night
                <i class="taxInfo">&nbsp; +11% GST</i> 
                </p>
                </div>
            </div>
          
          <% } %>
    </div>

     
</body>


<script>
    let taxSwitch = document.getElementById("flexSwitchCheckDefault")

    taxSwitch.addEventListener("click", () => {
       let taxInfo = document.getElementsByClassName("taxInfo")
       for(tax of taxInfo){
        if( tax.style.display === "inline"){
            tax.style.display = "none"
        }else{
            tax.style.display = "inline"
        }
       }
        
    })
</script>